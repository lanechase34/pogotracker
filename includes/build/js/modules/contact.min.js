import{$alertDiv as t,createAlert as e}from"alert";import{getWrapper as o,postWrapper as n}from"fetch";import{$submitBtn as a}from"loading";export const $contactBtn=document.getElementById("contactBtn");export async function getContactForm(){return o({url:"/contact",$loadingDiv:null,loading:"",dataHandler:o=>{let c=document.createElement("div");c.innerHTML=o,document.getElementById("loadedModal").appendChild(c),globalModals.$contactFormModal=new bootstrap.Modal(document.getElementById("contactFormModal"),{});let l=document.getElementById("contactForm"),d=document.getElementById("submitContactForm");d.addEventListener("click",async o=>{let c=l.checkValidity();if(l.classList.add("was-validated"),!c)return o.preventDefault(),void o.stopPropagation();document.getElementById("closeContactForm").disabled=!0;let r=new FormData(l),i=Object.fromEntries(r.entries());await async function submitContactForm(o,c){return n({url:"/home/contact",$loadingBtn:c,loading:a,packet:JSON.stringify(o),responseType:"json",dataHandler:()=>{globalModals.$contactFormModal.hide(),e(t,"success","bi-check-square-fill","Email sent! Thanks for contacting us!")}})}(i,d)})}})}