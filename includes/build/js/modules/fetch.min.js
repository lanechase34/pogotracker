export async function getWrapper({url:e,$loadingDiv:t,loading:n,dataHandler:r}){return t&&(t.innerHTML=n),await fetch(e,{method:"GET"}).then(e=>{if(401==e.status)location.href="/login";else if(!e.ok)throw Error("Server error");return e.text()}).then(r).catch(e=>{}),!0}export async function postWrapper({url:e,$loadingBtn:t,loading:n,packet:r,responseType:a,dataHandler:o}){let i;t&&(i=t.innerHTML,t.innerHTML=n,t.disabled=!0),await fetch(e,{method:"POST",headers:{Accept:"json"==a?"application/json":"text/html"},body:r}).then(e=>e[a]()).then(o).catch(e=>{t&&(t.innerHTML=i,t.disabled=!1)})}