import{$forms as t,addValidator as e}from"form";const o=document.getElementById("logoutBtn");function idleLogout(){window.location="/logout/idle/true"}function refreshPage(){window.location.reload()}export function addLogoutHandler(){window.addEventListener("storage",function(t){"logout-event"==t.key&&(window.location="/logout")}),o&&o.addEventListener("click",t=>{t.preventDefault(),localStorage.setItem("logout-event","logout"+Math.random()),window.location="/logout"})}export function startIdleTimer(){let t=document.getElementById("currentEvent").dataset.idletimeout-1;setTimeout(idleLogout,60*t*1e3)}export const runtime={all:()=>{e(t),function startCsrfTimer(){setTimeout(refreshPage,6e5)}()},verifyform:()=>{const t=document.getElementById("resendVerificationForm");document.getElementById("submitResend").addEventListener("click",()=>{t.submit()})}};