import{blogFetchStruct as e,$blogListDiv as o,getBlogs as t}from"blog";import{getWrapper as n}from"fetch";import{$loading as r}from"loading";import{createPokemonSearch as a}from"search";import{$leaderboardDiv as m,getLeaderboard as i}from"stats";import{isMobileDisplay as s}from"display";const d=document.getElementById("newsDiv"),l=document.getElementById("eventsDiv");export function resizeHomeCards(){new Masonry(".homeCards",{itemSelector:".homeCard",columnWidth:".col-md-4"})}async function loadHomeCards(){let a=[];o&&a.push(t({$div:o,count:e.count,offset:0,showImage:!0,exclude:-1,sidebar:!1,max:s?4:e.max})),m&&a.push(i(m)),d&&a.push(async function getNews(){return n({url:"/blog/getNews",$loadingDiv:d,loading:r,dataHandler:e=>{d.innerHTML=e}})}()),l&&a.push(async function getEvents(){return n({url:"/blog/getEvents",$loadingDiv:l,loading:r,dataHandler:e=>{l.innerHTML=e}})}()),await Promise.all(a),resizeHomeCards()}export const runtime={all:()=>{},home:()=>{loadHomeCards(),a("pokemonSearch")}};